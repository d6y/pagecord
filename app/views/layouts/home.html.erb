<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <title><%= content_for?(:title) ? content_for(:title) : "Pagecord: Independent blogging for the small web" %></title>
    <%= render "layouts/default_favicons" %>
    <%= render "layouts/manifest" %>

    <meta name="description" content="The best free blogging platform for the small web. Publish your writing effortlessly, via email or editor. RSS, email newsletter, and more. Get started for free!">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="<%= request.original_url %>">
    <meta property="og:title" content="Pagecord: Independent blogging for the small web">
    <meta property="og:description" content="The best free blogging platform for the small web. Publish your writing effortlessly, via email or editor. RSS, email newsletter, and more. Get started for free!">
    <meta property="og:image" content="<%= image_url "social/open-graph.webp" %>">

    <meta property="twitter:url" content="<%= request.original_url %>">
    <meta property="twitter:title" content="Pagecord: Independent blogging for the small web">
    <meta property="twitter:description" content="The best free blogging platform for the small web. Publish your writing effortlessly, via email or editor. RSS, email newsletter, and more. Get started for free!">
    <meta property="twitter:image" content="<%= image_url "social/open-graph.webp" %>">
    <meta property="twitter:card" content="summary_large_image">

    <%= stylesheet_link_tag "tailwind", "inter", "source-serif-4", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>

    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
    <script type="text/javascript">
      document.addEventListener('turbo:load', function() {
        <% if Rails.env.development? %>
          Paddle.Environment.set("sandbox")
          Paddle.Initialize({
            token: "test_945b246ef8df8bfe446632bf70b"
          })
        <% else %>
          Paddle.Environment.set("production")
          Paddle.Initialize({
            token: "live_8d79ebbaac5c745a173f00967fb"
          })
        <% end %>
      })
    </script>
    <script defer data-domain="pagecord.com" src="https://plausible.io/js/script.js"></script>
  </head>

  <body class="home flex flex-col min-h-screen bg-white dark:bg-slate-900">
    <div class="px-4">
      <%= render "layouts/header" %>
    </div>

    <main class="flex flex-grow text-slate-950 dark:text-slate-50">
      <div class="mx-auto mt-8">
        <%= yield %>
      </div>
    </main>

    <%= render "layouts/footer" %>
   </body>
</html>
